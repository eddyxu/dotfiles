#!/bin/bash
# see https://github.com/umbrant/dotfiles

#TESTS=`git diff --name-only $1 | egrep -o "Test(.*).java" | cut -d "." -f 1 | paste -sd ,`
TESTS=`git diff --name-only $1 | egrep -o "Test(.*).java" | cut -d "." -f 1`
if [  -z $TESTS ]; then
	echo $TESTS
	echo "No change was found."
	exit
fi

echo "Testing $TESTS"
mvn -o test -Dtest=$TESTS
